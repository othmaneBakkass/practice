(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function e(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=document.querySelector(".js-to-do-items-container"),i=document.querySelector(".js-to-do-contentInput--wrapper"),o=document.querySelector(".js-to-do-contentInput"),s=document.querySelector(".js-add-to-do-btn"),r=document.querySelector(".js-to-do-input-close-btn"),c=document.querySelector(".js-tags-modal"),d=document.querySelector(".js-tags-form-close-btn"),l=document.querySelector(".js-tags-selection-confirm-btn"),u=Object.entries({1:{content:"important",color:"bg-red-500"},2:{content:"not important",color:"bg-orange-500"},3:{content:"in progress",color:"bg-blue-500"},4:{content:"completed",color:"bg-green-500"},5:{content:"urgent",color:"bg-violet-500"},6:{content:"not urgent",color:"bg-pink-500"}}),m=new Map,g=0,f=e((function t(e,a,i){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,"id",void 0),n(this,"title",void 0),n(this,"tags",void 0),n(this,"addItemToDB",(function(t){return t.set(o.id,o),o})),n(this,"renderItemToUI",(function(t){var e='\n    <div data-item-id="'.concat(o.id,'" class="js-listItem flex flex-col justify-center items-center p-5 w-full border-block-gray-100">\n      <div class="flex justify-between items-center w-full gap-2">\n          <p class="break-words">\n            ').concat(o.title,'\n          </p>\n        <div class="relative">\n            <div \n              class="flex justify-center items-center w-6 h-6 rounded-full hover:cursor-pointer hover:bg-gray-100">\n              <span data-item-id="').concat(o.id,'" class="js-lisItem__options_btn material-symbols-rounded text-neutral-500"> more_vert\n              </span>\n            </div>\n            <ul data-animate=\'false\' data-item-id="').concat(o.id,'"\n              class="js-lisItem__options an-fade-up an-fade-up-start an-transition-fade absolute st-p-top-1 left-1/2 max-h-fit w-28 ease-in duration-150 motion-reduce:transition-none rounded bg-white drop-shadow-lg">\n              <li data-item-id="').concat(o.id,'" class="js-remove-task py-2 px-2 hover:cursor-pointer hover:bg-gray-100">remove task</li>\n              <li data-item-id="').concat(o.id,'" class="js-add-tags pb-2 px-2 hover:cursor-pointer hover:bg-gray-100" >add tags</li>\n            </ul>\n        </div>\n      </div>\n      <div class="flex flex-col justify-center items-center pt-5 gap-y-4 w-full">\n          <div class="flex justify-between items-center w-full">\n            <h5 class="text-lg font-medium">Tags</h5>\n            <div\n              class="flex justify-center items-center w-6 h-6 rounded-full hover:cursor-pointer hover:bg-gray-100">\n              <span data-item-id="').concat(o.id,'" data-toggle-animation="false"\n                class="js-tags-arrow-icon material-symbols-rounded text-neutral-500 transition-transform duration-150 ease-in">expand_more</span>\n            </div>\n          </div>\n          <div data-item-id="').concat(o.id,'" class="js-tags-list-container flex justify-start items-center flex-wrap gap-4 w-full ease-in duration-150 motion-reduce:transition-none overflow-hidden">\n          \n          </div>\n      </div>\n    </div>\n    ');return t.innerHTML+=e,o})),this.id=e,this.title=a,this.tags=i})),v=function(t){return m.get(Number(t))};function p(t){var e=document.querySelector('.js-lisItem__options[data-item-id="'.concat(t,'"]'));e.setAttribute("data-animate","true"),e.classList.toggle("an-fade-up-start"),e.classList.toggle("an-fade-up-end")}a.addEventListener("click",(function(t){var e,n=t.target;if(n.classList.contains("js-lisItem__options_btn")&&p(n.getAttribute("data-item-id")),n.classList.contains("js-tags-arrow-icon")){var a=n.getAttribute("data-item-id"),i=document.querySelector('.js-tags-list-container[data-item-id="'.concat(a,'"]')),o=document.querySelector('.js-tags-arrow-icon[data-item-id="'.concat(a,'"]'));o.classList.toggle("rotate-180"),function(t,e){if("true"===t.getAttribute("data-toggle-animation")){var n=e.scrollHeight;b(e,n),t.setAttribute("data-toggle-animation","false")}else e.style.height="0px",t.setAttribute("data-toggle-animation","true")}(o,i)}if(n.classList.contains("js-add-tags")){var s=n.getAttribute("data-item-id");p(s),c.classList.remove("invisible","opacity-0"),c.setAttribute("data-called-by-item",s)}if(n.classList.contains("js-remove-task")&&(e=n.getAttribute("data-item-id"),document.querySelector('.js-listItem[data-item-id="'.concat(e,'"]')).remove(),function(t){m.delete(Number(t))}(e)),n.classList.contains("js-list-item-tag-remove-btn")){var r=n.getAttribute("data-item-id"),d=n.getAttribute("data-tag-id");!function(t,e){v(t).tags.delete(e)}(r,d),function(t,e){document.querySelector('.js-listItem_tagsContainer_tagWrapper[data-item-id="'.concat(t,'"][data-tag-id="').concat(e,'"]')).remove()}(r,d)}}));var b=function(t,e){t.style.height="".concat(e,"px")};s.addEventListener("click",(function(){i.classList.remove("st-p-top--100"),i.classList.add("top-6"),o.focus()})),o.addEventListener("keydown",(function(t){var e;"Enter"===t.key&&0!==o.value.length&&((e=o.value,new f(g++,e,new Set)).addItemToDB(m).renderItemToUI(a),o.value="")})),r.addEventListener("click",(function(){i.classList.add("st-p-top--100"),i.classList.remove("top-6")})),d.addEventListener("click",(function(){c.classList.add("invisible","opacity-0")})),l.addEventListener("click",(function(){var t,e,n=document.querySelectorAll(".js-tag:checked");if(null!=n){var a,i=(a=[],n.forEach((function(t){return a.push(t.value)})),a),o=c.getAttribute("data-called-by-item");t=v(o),e=i,t.tags=new Set(e),function(t,e,n){var a=document.querySelector('.js-tags-list-container[data-item-id="'.concat(t,'"]')),i=n.filter((function(t){return!!e.includes(t[0])})),o="";i.forEach((function(e){o+='\n                <div data-item-id="'.concat(t,'" data-tag-id="').concat(e[0],'" class="js-listItem_tagsContainer_tagWrapper flex justify-between items-center ').concat(e[1].color,' py-1 px-2 gap-1 rounded-full">\n                  <p class="text-white text-sm">').concat(e[1].content,'</p>\n                  <div class="flex justify-center items-center w-4 h-4 rounded-full hover:cursor-pointer hover:bg-gray-100/30">\n                    <span data-item-id="').concat(t,'" data-tag-id="').concat(e[0],'" class="js-list-item-tag-remove-btn material-symbols-rounded text-sm text-neutral-50">close</span>\n                  </div>\n                </div>\n    ')})),a.innerHTML=o}(o,i,u)}}))})();
//# sourceMappingURL=home.js.map